{% extends "base.html" %}

{% block title %}Новости — ИС ОЭРСК{% endblock %}

{% block content %}

<div class="page-header">
    <h1>Новости компании</h1>
    <p class="lead">
        Актуальные события, объявления и обновления по системе оценки эффективности в АО «НИИ ТП».
    </p>
</div>

<!-- Список новостей -->
{% if news_items %}
<div class="news-list-container">
    {% for news in news_items %}
    <article class="news-card">
        <div class="news-header">
            <h2><a href="{{ url_for('views.news_detail', news_id=news.id) }}">{{ news.title }}</a></h2>
            <p class="news-meta">
                <span class="news-date">
                    Опубликовано: {{ news.published_at.strftime('%d.%m.%Y') }}
                </span>
                {% if news.author %}
                <span class="news-author">
                    Автор: {{ news.author.full_name }}
                </span>
                {% endif %}
            </p>
        </div>
        <div class="news-body">
            <p>{{ news.content[:250] }}{% if news.content|length > 250 %}...{% endif %}</p>
            <a href="{{ url_for('views.news_detail', news_id=news.id) }}" class="btn btn-small">Читать полностью</a>
        </div>
    </article>
    {% endfor %}
</div>
{% else %}
<div class="alert alert-info">
    Новости отсутствуют.
</div>
{% endif %}

<div class="action-buttons">
    <a href="{{ url_for('views.index') }}" class="btn btn-outline">На главную</a>
</div>

{% endblock %}